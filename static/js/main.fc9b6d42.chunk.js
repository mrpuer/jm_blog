(this.webpackJsonpjm_blog=this.webpackJsonpjm_blog||[]).push([[0],{177:function(e,t,r){},266:function(e,t,r){e.exports=r(516)},512:function(e,t,r){},515:function(e,t,r){},516:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(4),i=r.n(c),o=r(13),u=r(69),s=r(11),l=r(250),m=r(251),p=r(522),d=r(55),f=r(19),b=r(28),g=b.object().shape({email:b.string().email("Incorrect email address").required("Email is required field"),password:b.string().required("You need type your password")}),E=b.object().shape({email:b.string().email("Invalid email address").required("Email is required field"),password:b.string().required("Password is required field").matches(/^(?=^.{8,40}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z]).*$/,"Password must contains 8-40 latin symbols, one on upper case, and one digit"),passwordRepeat:b.string().oneOf([b.ref("password"),null],"Password must match"),username:b.string().required("Username is required field").min(3,"Username must contains more that 3 symbols").max(50,"Username must contains less that 50 symbols"),bio:b.string(),image:b.string().url("Image URL incorrect")}),v=b.object().shape({title:b.string().required("Your article must contains a title"),description:b.string().required("Your article must contains a description"),body:b.string().required("Your article must contains a body"),tagList:b.array().of(b.string().min(1,"Please, type tag name or remove filed"))}),h=r(526),O=r(71),y=r(135),j=r(528),S=function(e){return function(t){var r=t.field,a=t.form,c=t.hasFeedback,i=t.label,o=t.submitCount,u=t.type,s=Object(y.a)(t,["field","form","hasFeedback","label","submitCount","type"]),l=a.touched[r.name],m=o>0,p=a.errors[r.name],d=p&&m,f=p&&l;return n.a.createElement(h.a.Item,{label:i,hasFeedback:c&&m||c&&l,help:!(!d&&!f)&&p,validateStatus:d||f?"error":"success"},n.a.createElement(e,Object.assign({},r,s,{onBlur:function(){return a.setFieldTouched(r.name,!0)},onChange:u?function(e){var t=e.target.value;return a.setFieldValue(r.name,t)}:function(e){return a.setFieldValue(r.name,e)}})))}},L=S(j.a),w=S(j.a.Password),A=S(j.a.TextArea),k=function(e){var t=e.data,r=t.submitCount,a=t.isSubmitting;return n.a.createElement(f.c,{className:"form"},n.a.createElement(f.a,{name:"username",type:"text",label:"Username",component:L,submitCount:r,hasFeedback:!0}),n.a.createElement(f.a,{name:"email",type:"email",label:"Email",component:L,submitCount:r,hasFeedback:!0}),n.a.createElement(f.a,{name:"password",type:"password",label:"Password",component:w,submitCount:r,hasFeedback:!0}),n.a.createElement(f.a,{name:"passwordRepeat",type:"password",label:"Repeat password",component:w,submitCount:r,hasFeedback:!0}),n.a.createElement(h.a.Item,null,n.a.createElement(O.a,{type:"primary",htmlType:"submit",disabled:a},"Register")))};k.defaultProps={data:{submitCount:0,isSubmitting:!1}};var R=k,C=r(5),P=r.n(C),T=r(17),I=r(533),_=r(530),x=r(40),U=r(31),F=r.n(U),D=function e(t){var r=this;Object(x.a)(this,e),this.setToken=function(e){F.a.defaults.headers.common.Authorization="Token ".concat(e)},this.clearToken=function(){delete F.a.defaults.headers.common.Authorization},this.register=function(){var e=Object(T.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.clearToken(),e.next=3,F.a.post("/users",{user:t});case 3:return a=e.sent,n=a.data.user,localStorage.setItem("token",n.token),r.setToken(n.token),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.login=function(){var e=Object(T.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.clearToken(),e.next=3,F.a.post("/users/login",{user:t});case 3:return a=e.sent,n=a.data.user,localStorage.setItem("token",n.token),r.setToken(n.token),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUser=function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setToken(t),e.next=3,F.a.get("/user");case 3:return a=e.sent,e.abrupt("return",a.data.user);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getArticles=function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/articles",{params:t});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.favoriteArticle=function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/articles/".concat(t,"/favorite"));case 2:return r=e.sent,e.abrupt("return",r.data.article);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.unfavoriteArticle=function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("/articles/".concat(t,"/favorite"));case 2:return r=e.sent,e.abrupt("return",r.data.article);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getArticle=function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/articles/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data.article);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addArticle=function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/articles",{article:t});case 2:return r=e.sent,e.abrupt("return",r.data.article);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.editArticle=function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.put("/articles/".concat(t.slug),{article:t});case 2:return r=e.sent,e.abrupt("return",r.data.article);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteArticle=function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.delete("/articles/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getProfile=function(){var e=Object(T.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/profiles/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data.profile);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F.a.defaults.baseURL=t,F.a.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";var a=localStorage.getItem("token");a&&this.setToken(a)},G=Object(I.a)("CLEAR_ERROR"),N=Object(I.a)("SET_ERROR"),q=new D,M=Object(I.a)("USER_REGISTER_REQUEST"),H=Object(I.a)("USER_REGISTER_SUCCESS"),z=Object(I.a)("USER_REGISTER_FAILURE"),Q=Object(I.a)("USER_LOGIN_REQUEST"),V=Object(I.a)("USER_LOGIN_SUCCESS"),Y=Object(I.a)("USER_LOGIN_FAILURE"),B=Object(I.a)("USER_LOGOUT"),W=r(259),Z=function(e){var t=e.isActive,r=e.children;return t?n.a.createElement(W.a,{size:"large",tip:"Please wait..."},r):n.a.createElement(n.a.Fragment,null,r)};Z.defaultProps={isActive:!1};var J=Z,$={email:"",password:"",username:""},K=function(e){var t=e.registerHandler,r=e.showSpinner,a=Object(d.f)(),c=(Object(d.g)().state||{from:{pathname:"/"}}).from;return n.a.createElement(J,{isActive:r},n.a.createElement(f.d,{initialValues:$,validationSchema:E,onSubmit:function(e,r){var n=r.setSubmitting;t(e).then((function(e){e&&a.replace(c),n(!1)}))}},(function(e){return n.a.createElement(R,{data:e})})))};K.defaultProps={showSpinner:!1};var X={registerHandler:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(M()),t.prev=1,t.next=4,q.register(e);case 4:return a=t.sent,localStorage.setItem("token",a.token),r(H({newUser:a})),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),r(N({err:t.t0})),r(z()),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}},ee=Object(s.b)((function(e){return{showSpinner:e.user.isLoading}}),X)(K),te=function(e){var t=e.isLogged;return n.a.createElement(d.b,{path:"/register",render:function(){return t?n.a.createElement(d.a,{to:{pathname:"/profile"}}):n.a.createElement(ee,null)}})};te.defaultProps={isLogged:!1};var re=Object(s.b)((function(e){return{isLogged:e.user.isLogged}}))(te),ae=function(e){var t=e.data,r=t.submitCount,a=t.isSubmitting;return n.a.createElement(f.c,{className:"form"},n.a.createElement(f.a,{name:"email",type:"email",label:"Email",component:L,submitCount:r,hasFeedback:!0}),n.a.createElement(f.a,{name:"password",type:"password",label:"Password",component:w,submitCount:r,hasFeedback:!0}),n.a.createElement(h.a.Item,null,n.a.createElement(O.a,{type:"primary",htmlType:"submit",loading:a},"Login")))};ae.defaultProps={data:{submitCount:0,isSubmitting:!1}};var ne=ae,ce={email:"",password:""},ie=function(e){var t=e.loginHandler,r=e.showSpinner,a=Object(d.f)(),c=(Object(d.g)().state||{from:{pathname:"/"}}).from;return n.a.createElement(J,{isActive:r},n.a.createElement(f.d,{initialValues:ce,validationSchema:g,onSubmit:function(e,r){var n=r.setSubmitting;t(e).then((function(e){e&&a.replace(c),n(!1)}))}},(function(e){return n.a.createElement(ne,{data:e})})))};ie.defaultProps={showSpinner:!1};var oe={loginHandler:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Q()),t.prev=1,t.next=4,q.login(e);case 4:return a=t.sent,localStorage.setItem("token",a.token),r(V({user:a})),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),r(N({err:t.t0})),r(Y()),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}},ue=Object(s.b)((function(e){return{showSpinner:e.user.isLoading}}),oe)(ie),se=function(e){var t=e.isLogged,r=e.username;return n.a.createElement(d.b,{path:"/login",exact:!0,render:function(){return t?n.a.createElement(d.a,{to:{pathname:"/profile/".concat(r)}}):n.a.createElement(ue,null)}})};se.defaultProps={isLogged:!1,username:""};var le=Object(s.b)((function(e){var t=e.user;return{isLogged:t.isLogged,username:t.username}}))(se),me=r(50),pe=r(52),de=r(51),fe=r(53),be=r(523),ge=new D("https://conduit.productionready.io/api/"),Ee=Object(I.a)("GET_ARTICLES_REQUEST"),ve=Object(I.a)("GET_ARTICLES_SUCCESS"),he=Object(I.a)("GET_ARTICLES_FAILURE"),Oe=r(518),ye=r(1),je=r.n(ye),Se=(je.a.shape({article:je.a.objectOf({slug:je.a.string,title:je.a.string,description:je.a.string,body:je.a.string,tagList:je.a.arrayOf(je.a.string||je.a.undef),createdAt:je.a.dateFormat,updatedAt:je.a.dateFormat,favorited:je.a.bool,favoritesCount:je.a.num,isLoading:je.a.bool})}),je.a.shape({username:je.a.string,bio:je.a.string,image:je.a.string,following:je.a.bool,isLoading:je.a.bool}),r(6)),Le=function(e){var t=e.type,r=e.text,a=e.handler;return n.a.createElement("span",{onClick:a},n.a.createElement(Se.a,{type:t,style:{marginRight:8}}),r)};Le.defaultProps={text:"",handler:function(){}};var we=Le,Ae=Object(I.a)("GET_ARTICLE_REQUEST"),ke=Object(I.a)("GET_ARTICLE_SUCCESS"),Re=Object(I.a)("GET_ARTICLE_FAILURE"),Ce=Object(I.a)("DELETE_ARTICLE_SUCCESS"),Pe=Object(I.a)("FAVORITE_ARTICLE_SUCCESS"),Te=function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Ae()),t.prev=1,t.next=4,ge.getArticle(e);case 4:a=t.sent,r(ke({article:a})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),r(Re()),r(N({err:t.t0}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e,t){return function(){var r=Object(T.a)(P.a.mark((function r(a){var n;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a(Ae()),r.prev=1,!t){r.next=8;break}return r.next=5,ge.unfavoriteArticle(e);case 5:r.t0=r.sent,r.next=11;break;case 8:return r.next=10,ge.favoriteArticle(e);case 10:r.t0=r.sent;case 11:n=r.t0,a(Pe({article:n})),a(ke({article:n})),_.a.success(t?"You are unliked it!":"You are liked it!"),r.next=21;break;case 17:r.prev=17,r.t1=r.catch(1),a(Re()),a(N({err:r.t1}));case 21:case"end":return r.stop()}}),r,null,[[1,17]])})));return function(e){return r.apply(this,arguments)}}()},_e=r(531),xe=function(e){var t=e.tags;return n.a.createElement("span",null,t.map((function(e){return n.a.createElement(_e.a,{color:"blue",key:e},n.a.createElement(o.b,{to:"/?tag=".concat(e)},e))})))};xe.defaultProps={tags:[]};var Ue=xe,Fe=(r(177),function(e){var t=e.favoritesCount,r=e.handlerFavoriteArticle,a=e.isActive;return n.a.createElement("span",{className:a?"article--likes__active":"article--likes"},n.a.createElement(we,{type:"like-o",text:t,key:"list-vertical-like-o",handler:r}))});Fe.defaultProps={favoritesCount:0,isActive:!1};var De=Fe,Ge=r(524),Ne=function(e){var t=e.createdAt,r=e.updatedAt;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null," ",n.a.createElement(we,{type:"calendar",text:"Created ".concat(Object(Ge.a)(new Date(t),{addSuffix:!0}),"\n            ")})),n.a.createElement("div",null," ",n.a.createElement(we,{type:"calendar",text:"Updated ".concat(Object(Ge.a)(new Date(r),{addSuffix:!0}),"\n              ")})))};Ne.defaultProps={createdAt:"",updatedAt:""};var qe=Ne,Me={favoriteArticle:Ie},He=Object(s.b)(null,Me)((function(e){var t=e.article,r=e.favoriteArticle;return n.a.createElement(J,{isActive:t.isLoading},n.a.createElement(be.a.Item,{key:t.slug,actions:[n.a.createElement(De,{handlerFavoriteArticle:function(){return r(t.slug,t.favorited)},favoritesCount:t.favoritesCount,isActive:t.favorited}),n.a.createElement(Ue,{tags:t.tagList})],extra:n.a.createElement(qe,{createdAt:t.createdAt,updatedAt:t.createdAt})},n.a.createElement(be.a.Item.Meta,{avatar:n.a.createElement("div",{className:"articles-item--avatar"},n.a.createElement("div",null,n.a.createElement(Oe.a,{src:t.author.image})),n.a.createElement("div",{className:"articles-item--username"},n.a.createElement("span",null,n.a.createElement(we,{type:"star"})),n.a.createElement(o.b,{to:"/profile/".concat(t.author.username)},t.author.username))),title:n.a.createElement(o.b,{to:"/articles/".concat(t.slug)},t.title),description:t.description})))})),ze=10,Qe=function(e){function t(){var e,r;Object(x.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(pe.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){r.getData(1)},r.getData=function(e){var t=r.props,a=t.getArticles,n=t.queryParams;n.limit=ze,n.offset=(e-1)*ze,a(n)},r}return Object(fe.a)(t,e),Object(me.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.location;e.location!==t&&this.getData(1)}},{key:"render",value:function(){var e=this,t=this.props.articles;return n.a.createElement(J,{isActive:t.isLoading},n.a.createElement(be.a,{itemLayout:"vertical",size:"large",pagination:{onChange:function(t){e.getData(t)},pageSize:10,total:t.articlesCount},dataSource:Object.keys(t.all),header:n.a.createElement("div",null,n.a.createElement("h2",null,"All Articles")),renderItem:function(e){return n.a.createElement(He,{article:t.all[e]})}}))}}]),t}(n.a.Component);Qe.defaultProps={articles:{all:{},isLoading:!1,articlesCount:0},queryParams:{}};var Ve={getArticles:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Ee()),t.prev=1,t.next=4,ge.getArticles(e);case 4:a=t.sent,r(ve({articlesData:a})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),r(he()),r(N({err:t.t0}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},Ye=Object(s.b)((function(e){return{articles:e.articles}}),Ve)(Qe);r(512);var Be=function(){var e=new URLSearchParams(Object(d.g)().search);return n.a.createElement(d.b,{path:"/",exact:!0,render:function(t){var r=t.location;return n.a.createElement(Ye,{queryParams:{tag:e.get("tag"),author:e.get("author"),favorited:e.get("favorited"),limit:e.get("limit"),offset:e.get("offset")},location:r})}})},We=r(521),Ze=r(519),Je=r(520),$e=function(e){var t=e.article,r=e.favoriteArticle,a=e.deleteArticle,c=e.username,i=Object(d.f)();return n.a.createElement(Ze.a,{gutter:[0,8]},n.a.createElement(Je.a,{span:2},n.a.createElement(Oe.a,{src:t.author.image,shape:"square",size:64})),n.a.createElement(Je.a,{span:2},n.a.createElement(o.b,{to:"/profile/".concat(t.author.username)},t.author.username)),n.a.createElement(Je.a,{span:2,offset:5},n.a.createElement(De,{handlerFavoriteArticle:function(){return r(t.slug,t.favorited)},favoritesCount:t.favoritesCount,isActive:t.favorited})),n.a.createElement(Je.a,{span:4},n.a.createElement(Ue,{tags:t.tagList})),n.a.createElement(Je.a,{span:5},n.a.createElement(qe,{createdAt:t.createdAt,updatedAt:t.updatedAt})),t.author.username===c&&n.a.createElement(Je.a,{span:4},n.a.createElement(o.b,{to:"/articles/".concat(t.slug,"/edit")},n.a.createElement(O.a,{type:"primary"},"Edit")),n.a.createElement(O.a,{type:"danger",onClick:function(){a(t.slug).then((function(){return i.push("/?author=".concat(c))}))}},"Delete")))};$e.defaultProps={article:{},username:""};var Ke={favoriteArticle:Ie,deleteArticle:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Ae()),t.prev=1,t.next=4,ge.deleteArticle(e);case 4:return r(Ce()),_.a.success("Article Deleted!"),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),r(Re()),r(N({err:t.t0})),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},Xe=Object(s.b)((function(e){return{article:e.currentArticle.data,username:e.user.username}}),Ke)($e),et=function(e){function t(){var e,r;Object(x.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(pe.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){var e=r.props;(0,e.getArticle)(e.match.params.slug)},r}return Object(fe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,r=e.isLoading;return n.a.createElement(J,{isActive:r},n.a.createElement("article",{className:"article"},n.a.createElement("h3",{className:"article--title"},t.title),n.a.createElement("p",{className:"article--body"},t.body),n.a.createElement(We.a,{dashed:!0}),n.a.createElement(Xe,{article:t})))}}]),t}(n.a.Component);et.defaultProps={data:{},isLoading:!1};var tt={getArticle:Te},rt=Object(s.b)((function(e){var t=e.currentArticle;return{data:t.data,isLoading:t.isLoading}}),tt)(et),at=function(){return n.a.createElement(d.b,{path:"/articles/:slug",exact:!0,component:rt})},nt=r(532),ct=Object(I.a)("GET_PROFILE_REQUEST"),it=Object(I.a)("GET_PROFILE_SUCCESS"),ot=Object(I.a)("GET_PROFILE_FAILURE"),ut=function(e){function t(){return Object(x.a)(this,t),Object(pe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.getProfileHandler)(t.params.username)}},{key:"render",value:function(){var e=this.props.currentProfile;return n.a.createElement(J,{isActive:e.isLoading},n.a.createElement(nt.a,{title:"User Info",bordered:!0,column:2},n.a.createElement(nt.a.Item,{label:"Image",span:2},n.a.createElement(Oe.a,{shape:"square",size:128,src:e.image})),n.a.createElement(nt.a.Item,{label:"UserName",span:2},e.username),e.bio&&n.a.createElement(nt.a.Item,{label:"About me",span:2},e.bio),n.a.createElement(nt.a.Item,{label:"Follow",span:2},"Follow Icon To Do")))}}]),t}(n.a.Component),st={getProfileHandler:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(ct()),t.prev=1,t.next=4,ge.getProfile(e);case 4:a=t.sent,r(it({profile:a})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),r(ot()),r(N({err:t.t0}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},lt=Object(s.b)((function(e){return{currentProfile:e.currentProfile}}),st)(ut),mt=function(){return n.a.createElement(d.b,{path:"/profile/:username",component:lt})},pt=function(e){var t=e.data,r=t.submitCount,a=t.isSubmitting,c=t.values;return n.a.createElement(f.c,{className:"form"},n.a.createElement(f.a,{name:"title",type:"text",label:"Title",component:L,submitCount:r,hasFeedback:!0}),n.a.createElement(f.a,{name:"description",type:"text",label:"Description",component:L,submitCount:r,hasFeedback:!0}),n.a.createElement(f.a,{name:"body",type:"textarea",label:"Body",component:A,submitCount:r,hasFeedback:!0}),n.a.createElement(h.a.Item,null,n.a.createElement(f.b,{name:"tagList",render:function(e){return n.a.createElement("div",null,c.tagList&&c.tagList.length>0&&c.tagList.map((function(t,r){return n.a.createElement(h.a.Item,{key:r},n.a.createElement(f.a,{name:"tagList.".concat(r),label:"Tag Name"}),n.a.createElement(Se.a,{className:"dynamic-delete-button",type:"minus-circle-o",onClick:function(){return e.remove(r)}}))})),n.a.createElement(h.a.Item,null,n.a.createElement(O.a,{type:"dashed",onClick:function(){return e.push("")}},n.a.createElement(Se.a,{type:"plus"})," Add tag")))}})),n.a.createElement(h.a.Item,null,n.a.createElement(O.a,{type:"primary",htmlType:"submit",loading:a},"Save")))};pt.defaultProps={data:{submitCount:0,isSubmitting:!1}};var dt=pt,ft={title:"",description:"",body:"",tagList:[]},bt=function(e){var t=e.addArticleHandler,r=e.showSpinner,a=e.history;return n.a.createElement(J,{isActive:r},n.a.createElement(f.d,{initialValues:ft,validationSchema:v,onSubmit:function(e,r){var n=r.setSubmitting;t(e).then((function(e){_.a.success("New Article added!"),a.push("articles/".concat(e.slug)),n(!1)}))}},(function(e){return n.a.createElement(dt,{data:e})})))};bt.defaultProps={showSpinner:!1};var gt={addArticleHandler:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Ae()),t.prev=1,t.next=4,ge.addArticle(e);case 4:return a=t.sent,r(ke({article:a})),_.a.success("Article Added!"),t.abrupt("return",a);case 10:return t.prev=10,t.t0=t.catch(1),r(Re()),r(N({err:t.t0})),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}},Et=Object(s.b)((function(e){return{showSpinner:e.currentArticle.isLoading}}),gt)(Object(d.h)(bt)),vt=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"New Article"),n.a.createElement(Et,null))},ht=function(e){var t=e.children,r=e.isLogged,a=Object(y.a)(e,["children","isLogged"]);return n.a.createElement(d.b,Object.assign({},a,{render:function(e){var a=e.location;return r?t:n.a.createElement(d.a,{to:{pathname:"/login",state:{from:a}}})}}))};ht.defaultProps={isLogged:!1};var Ot=Object(s.b)((function(e){return{isLogged:e.user.isLogged}}))(ht),yt=function(){return n.a.createElement(Ot,{path:"/add"},n.a.createElement(vt,null))},jt=r(41);function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var Lt={editArticleHandler:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Ae()),t.prev=1,t.next=4,ge.editArticle(e);case 4:return a=t.sent,r(ke({article:a})),_.a.success("Article Edited!"),t.abrupt("return",a);case 10:return t.prev=10,t.t0=t.catch(1),r(Re()),r(N({err:t.t0})),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}},wt=Object(s.b)(null,Lt)((function(e){var t=e.editArticleHandler,r=e.article,a=Object(d.f)(),c={title:r.title,description:r.description,body:r.body,tagList:r.tagList};return n.a.createElement(f.d,{initialValues:c,validationSchema:v,onSubmit:function(e,n){var c=n.setSubmitting;t(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(r,!0).forEach((function(t){Object(jt.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{slug:r.slug})).then((function(e){_.a.success("Success!"),a.push("/articles/".concat(e.slug)),c(!1)}))}},(function(e){return n.a.createElement(dt,{data:e})}))})),At=function(e){function t(){return Object(x.a)(this,t),Object(pe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getArticle)(e.match.params.slug)}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.isLoading;return n.a.createElement("div",null,n.a.createElement("h1",null,"Edit Article"),n.a.createElement(J,{isActive:r},n.a.createElement(wt,{article:t})))}}]),t}(n.a.Component);At.defaultProps={data:{},isLoading:!1};var kt={getArticle:Te},Rt=Object(s.b)((function(e){var t=e.currentArticle;return{data:t.data,isLoading:t.isLoading}}),kt)(Object(d.h)(At)),Ct=function(){return n.a.createElement(Ot,{path:"/articles/:slug/edit",exact:!0},n.a.createElement(Rt,null))},Pt=r(525);function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(r,!0).forEach((function(t){Object(jt.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _t=Object(Pt.a)({GET_ARTICLES_REQUEST:function(e){return It({},e,{isLoading:!0})},GET_ARTICLES_SUCCESS:function(e,t){var r=t.payload.articlesData;return{all:r.articles.reduce((function(e,t){return It({},e,Object(jt.a)({},t.slug,It({},t,{isLoading:!1})))}),{}),isLoading:!1,articlesCount:r.articlesCount}},GET_ARTICLES_FAILURE:function(e){return It({},e,{isLoading:!1})},FAVORITE_ARTICLE_SUCCESS:function(e,t){var r=t.payload.article;return It({},e,{isLoading:!1,all:It({},e.all,Object(jt.a)({},r.slug,It({},r,{isLoading:!1})))})}},{all:{"test-article":{title:"Article Title",slug:"test-article",body:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nonne merninisti licere mihi ista probare, quae sunt a te dicta? Refert tamen, quo modo. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nonne merninisti licere mihi ista probare, quae sunt a te dicta? Refert tamen, quo modo. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nonne merninisti licere mihi ista probare, quae sunt a te dicta? Refert tamen, quo modo.",createdAt:"2019-11-26T18:31:33.645Z",updatedAt:"2019-11-26T18:31:33.645Z",tagList:["tag1","tag2","tag3"],description:"Article Description",favorited:!1,favoritesCount:0,author:{username:"Vovka",bio:null,image:"https://static.productionready.io/images/smiley-cyrus.jpg",following:!1},isLoading:!1}},articlesCount:1,isLoading:!1});function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(r,!0).forEach((function(t){Object(jt.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ft={email:"",token:null,username:"",bio:"",image:null,isLoading:!1,isLogged:!1},Dt=Object(Pt.a)({USER_LOGIN_REQUEST:function(e){return Ut({},e,{isLogged:!1,isLoading:!0})},USER_LOGIN_SUCCESS:function(e,t){return Ut({},t.payload.user,{isLogged:!0,isLoading:!1})},USER_LOGIN_FAILURE:function(e){return Ut({},e,{isLogged:!1,isLoading:!1})},USER_REGISTER_REQUEST:function(e){return Ut({},e,{isLogged:!1,isLoading:!0})},USER_REGISTER_SUCCESS:function(e,t){return{user:t.payload.newUser,isLogged:!0,isLoading:!1}},USER_REGISTER_FAILURE:function(e){return Ut({},e,{isLogged:!1,isLoading:!1})},USER_LOGOUT:function(){return Ft}},Ft);function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(r,!0).forEach((function(t){Object(jt.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qt={data:{slug:"",title:"",description:"",body:"",tagList:[],createdAt:"2016-02-18T03:22:56.637Z",updatedAt:"2016-02-18T03:22:56.637Z",favorited:!1,favoritesCount:0,author:{username:"",bio:"",image:"https://static.productionready.io/images/smiley-cyrus.jpg",following:!1}},isLoading:!1},Mt=Object(Pt.a)({GET_ARTICLE_REQUEST:function(e){return Nt({},e,{isLoading:!0})},GET_ARTICLE_SUCCESS:function(e,t){return{isLoading:!1,data:t.payload.article}},GET_ARTICLE_FAILURE:function(e){return Nt({},e,{isLoading:!1})},DELETE_ARTICLE_SUCCESS:function(){return qt}},qt),Ht=Object(Pt.a)({CLEAR_ERROR:function(){return null},SET_ERROR:function(e,t){var r=t.payload.err.response;return{data:r.data,status:r.status}}},null);function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(r,!0).forEach((function(t){Object(jt.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vt=Object(Pt.a)({GET_PROFILE_REQUEST:function(e){return Qt({},e,{isLoading:!0})},GET_PROFILE_SUCCESS:function(e,t){return Qt({},t.payload.profile,{isLoading:!1})},GET_PROFILE_FAILURE:function(e){return Qt({},e,{isLoading:!1})}},{username:"",bio:"",image:"https://static.productionready.io/images/smiley-cyrus.jpg",following:!1,isLoading:!1}),Yt=Object(u.combineReducers)({articles:_t,user:Dt,currentArticle:Mt,error:Ht,currentProfile:Vt}),Bt=r(527),Wt=function(e){var t=e.isLogged,r=e.username,a=e.handleLogout;return t?n.a.createElement(Bt.a,{className:"menu",theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]},n.a.createElement(Bt.a.Item,{key:"1"},n.a.createElement(o.b,{to:"/profile/".concat(r)},"My Profile")),n.a.createElement(Bt.a.Item,{key:"2"},n.a.createElement(o.b,{to:"/add"},"Add Article")),n.a.createElement(Bt.a.Item,{key:"3"},n.a.createElement(o.b,{to:"/?author=".concat(r)},"My Articles")),n.a.createElement(Bt.a.Item,{key:"4"},n.a.createElement(o.b,{to:"/",onClick:a},"Logout"))):n.a.createElement(Bt.a,{className:"menu",theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]},n.a.createElement(Bt.a.Item,{key:"1"},n.a.createElement(o.b,{to:"/login"},"Login")),n.a.createElement(Bt.a.Item,{key:"2"},n.a.createElement(o.b,{to:"/register"},"Register")))};Wt.defaultProps={username:"",isLogged:!1};var Zt={handleLogout:function(){return function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t(B()),_.a.success("Logout successful!");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Jt=Object(s.b)((function(e){var t=e.user;return{isLogged:t.isLogged,username:t.username}}),Zt)(Wt),$t=p.a.Header,Kt=function(){return n.a.createElement($t,null,n.a.createElement("h1",{className:"logo"},n.a.createElement(o.b,{to:"/"},"Blog")),n.a.createElement(Jt,null))},Xt=p.a.Footer,er=function(){return n.a.createElement(Xt,{style:{textAlign:"center"}},"Java Mentor Blog Platform \xa92019 Vladimir Mytnik")},tr=r(529),rr={401:function(){return{title:"Unauthorized Error",content:"Please, login first to do this action."}},403:function(){return{title:"Forbidden Error",content:"You doesn't have permissions to perform this action"}},404:function(){return{title:"Not Found Error",content:"Not found. We are cant fulfill your request"}},422:function(e){var t=e.errors;return{title:"Request Error",content:n.a.createElement(n.a.Fragment,null,Object.keys(t).map((function(e){return n.a.createElement("p",{key:e}," - ".concat(e," ").concat(t[e][0]))})))}}},ar=function(e){function t(){return Object(x.a)(this,t),Object(pe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.authUser)(e.token)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.error,a=e.hideModal;if(r){var c=function(e){var t=e.data,r=e.status;return rr[r](t)}(r);return n.a.createElement(n.a.Fragment,null,n.a.createElement(tr.a,{title:c.title,visible:!!r,onCancel:a,footer:[n.a.createElement(O.a,{key:"submit",type:"primary",onClick:a},"Close")]},n.a.createElement("div",null,c.content)),t)}return n.a.createElement(n.a.Fragment,null,t)}}]),t}(n.a.Component);ar.defaultProps={children:n.a.createElement("div",{className:"error"}),error:null,token:null};var nr={hideModal:G,authUser:function(e){return function(){var t=Object(T.a)(P.a.mark((function t(r){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Q()),t.prev=1,t.next=4,q.getUser(e||localStorage.getItem("token"));case 4:a=t.sent,r(V({user:a})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),q.clearToken(),r(Y());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},cr=Object(s.b)((function(e){return{error:e.error,token:e.user.token}}),nr)(ar),ir=p.a.Content,or=Object(u.createStore)(Yt,Object(m.composeWithDevTools)(Object(u.applyMiddleware)(l.a))),ur=function(){return n.a.createElement(s.a,{store:or},n.a.createElement(o.a,null,n.a.createElement(cr,null,n.a.createElement(p.a,null,n.a.createElement(Kt,null),n.a.createElement(ir,{className:"main"},n.a.createElement(Be,null),n.a.createElement(yt,null),n.a.createElement(Ct,null),n.a.createElement(mt,null),n.a.createElement(at,null),n.a.createElement(le,null),n.a.createElement(re,null)),n.a.createElement(er,{className:"footer"})))))};r(513),r(514),r(515),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(ur,{className:"App"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[266,1,2]]]);
//# sourceMappingURL=main.fc9b6d42.chunk.js.map